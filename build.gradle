import org.gradle.api.tasks.testing.logging.TestExceptionFormat
import org.gradle.api.tasks.testing.logging.TestLogEvent

// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath "org.standardout:gradle-versioneye-plugin:1.4.0"
        classpath "com.github.ben-manes:gradle-versions-plugin:0.13.0"

        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
}

allprojects {
    repositories {
        jcenter()
    }
}

apply plugin: 'java'
apply plugin: 'org.standardout.versioneye'
apply plugin: 'com.github.ben-manes.versions'

archivesBaseName = "${artifactId}-${versionName}"

compileJava {
    sourceCompatibility = JavaVersion.VERSION_1_7
    targetCompatibility = JavaVersion.VERSION_1_7
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile "com.fasterxml.jackson.core:jackson-databind:2.7.5"
    compile "com.squareup.retrofit2:retrofit:2.1.0"
    compile "com.squareup.retrofit2:converter-jackson:2.1.0"
    compile "com.squareup.okhttp3:okhttp:3.3.1"

    testCompile "junit:junit:4.12"
    testCompile "org.assertj:assertj-core:2.4.1"
}

tasks.withType(Test) {
    testLogging {
        events TestLogEvent.FAILED,
                TestLogEvent.PASSED,
                TestLogEvent.SKIPPED,
                TestLogEvent.STANDARD_ERROR,
                TestLogEvent.STANDARD_OUT
        exceptionFormat TestExceptionFormat.FULL
        showCauses true
        showExceptions true
        showStackTraces true
    }
}

apply from: 'ci/deploy.gradle'
